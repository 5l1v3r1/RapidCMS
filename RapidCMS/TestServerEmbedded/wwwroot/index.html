<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script>
        window.onload = function () {
            var response = fetch("https://localhost:44365/");
            response
                .then(function (data) {
                    return data.text();
                })
                .then(function (html) {
                    document.body.innerHTML = html
                        .replace(/base href="\//g, 'base href="https://localhost:44365/')
                        .replace(/href="css/g, 'href="https://localhost:44365/css')
                        .replace(/src="_/g, 'src="https://localhost:44365/_');

                    nodeScriptReplace(document.body);
                });
        };

        function nodeScriptReplace(node) {
            if (nodeScriptIs(node) === true) {
                node.parentNode.replaceChild(nodeScriptClone(node), node);
            }
            else {
                var i = 0;
                var children = node.childNodes;
                while (i < children.length) {
                    nodeScriptReplace(children[i++]);
                }
            }

            return node;
        }
        function nodeScriptIs(node) {
            return node.tagName === 'SCRIPT';
        }
        function nodeScriptClone(node) {
            var script = document.createElement("script");
            script.text = node.innerHTML;
            for (var i = node.attributes.length - 1; i >= 0; i--) {
                script.setAttribute(node.attributes[i].name, node.attributes[i].value);
            }
            return script;
        }
    </script>

</head>
<body>

</body>
</html>